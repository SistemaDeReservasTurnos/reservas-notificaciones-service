# ==============================================================================
# COMMON CONFIGURATION (Base settings, loads .env)
# Properties shared across all environments (local, dev, prod).
# ==============================================================================

spring.application.name=reservas-notificaciones-service
server.port=8085
spring.config.import=optional:file:.env[.properties]

# ------------------------------------------------------------------------------
# RabbitMQ Base Configuration
# This relies on the .env file for the host, port, user, and pass.
# The incorrect 'spring.rabbitmq.addresses' property has been REMOVED.
# ------------------------------------------------------------------------------
spring.rabbitmq.host=${RABBITMQ_HOST}
spring.rabbitmq.port=${RABBITMQ_PORT}
spring.rabbitmq.username=${RABBITMQ_USER}
spring.rabbitmq.password=${RABBITMQ_PASS}

# ------------------------------------------------------------------------------
# Eureka Lease Configuration (Common/Inherited)
# ------------------------------------------------------------------------------
eureka.client.lease-renewal-interval-in-seconds=5
eureka.client.lease-expiration-duration-in-seconds=90
eureka.client.enable-self-preservation=true

# ------------------------------------------------------------------------------
# JPA / Hibernate Common Config
# ------------------------------------------------------------------------------
spring.jpa.hibernate.ddl-auto=update
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# ------------------------------------------------------------------------------
# Hikari Connection Pool Config (Common)
# ------------------------------------------------------------------------------
spring.datasource.hikari.maximum-pool-size=50
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.minimum-idle=10
spring.datasource.hikari.keepalive-time=300000
spring.datasource.hikari.validation-timeout=5000
spring.datasource.hikari.connection-test-query=SELECT 1